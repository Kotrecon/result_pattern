namespace YourNamespace.Common;

// Интерфейс ошибки — основа для типобезопасной обработки неудач.
// Вместо строк ("Email invalid") используем объекты с семантикой.
// Это позволяет:
//   - различать типы ошибок в коде (switch, if)
//   - легко тестировать (проверяем тип ошибки, а не текст)
//   - безопасно сериализовать (в Web API → ProblemDetails)

public interface IError
{
    string Message { get; } // Человекочитаемое сообщение (для логов, UI)
    string Code { get; } // Машинно-читаемый код (для клиентов, switch)

    // Каждая ошибка сама знает, какой HTTP-статус она представляет.
    // Это делает систему расширяемой: новые ошибки — просто реализуют это свойство.
    int StatusCode { get; }
}
